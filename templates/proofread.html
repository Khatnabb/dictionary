<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTUG Mining Dictionary Adding words</title>
    <link href="{{ url_for('static', filename='css/googleapifonts.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/proofread.css') }}" rel="stylesheet">

</head>
<body>
    <!-- <h1>Edit/Proofread</h1>
    <h2>Welcome, {{currentuser}}</h2> -->
    <nav class="navbar navbar-light" style="background-color: #e4d6c9;">
      <a class="navbar-brand">
        <img src="{{ url_for('static', filename='colorlogo.png') }}" width="70" height="50" class="d-inline-block align-top" alt="">
      </a>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('home') }}"><i class="fas fa-home"></i>Glossary</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{{ url_for('contribute') }}"><i class="fas fa-hand-holding-medical"></i>Contribute</a>
            </li>
            <li class="nav-item">
              <button type="button" class="btn addNewbutton"
              data-toggle="modal" data-target="#addmodal">Add new++</button>
            </li>
        </ul>
      <span class="navbar-brand mb-0 h1" style="text-transform: uppercase;">Glossary of Technical Terms</span>
    </nav>
    <div class="container ediTable">
      <div class="table-responsive-xl">
                <table class="table table-hover" id="myTable">
                <thead style="background-color: rgb(221, 115, 66);">
                <tr>
                  <th style="display: none;">ID</th>
                  <th>Term</th>
                  <th>Definition</th>
                  <th>Action</th>
                </tr>
                </thead>
                {% for data in newEntries %} 
                <tr>
                  <td style="display: none;">{{data.ID}}</td>
                  <td class="tdterm">{{data.Term}}</td>
                  <td class="tddef">{{data.Def}}</td>
                  <td class="buttons">
                    <a href="/update/{{data.ID}}" class="btn btn-xs mr-3 edit" data-toggle="modal" data-target="#modaledit{{data.ID}}">Edit</a>
                    <a class="btn btn-xs mr-5 save" >Save</a>
                    <a class="btn btn-danger btn-xs delete" >Delete</a>
                  </td>
                </tr>
                <div id="modaledit{{data.ID}}" class="modal fade" role="dialog">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h4 class="modal-title">Add</h4>
                      </div>
                      <div class="modal-body">
                        <form action="{{url_for('update')}}" method="POST">
                          <div class="form-group">
                            <label>Term:</label>
                            <input type="hidden" name="id" value="{{data.ID}}">
                            <input type="text" class="form-control" name="term" value="{{data.Term}}">
                          </div>
                          <div class="form-group">
                            <label>Definition:</label>
                            <input type="text" class="form-control" name="definition" value="{{data.Def}}">
                          </div>
                          <div class="form-group">
                            <button class="btn btn-primary" type="submit">Add</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
                <div id="addmodal" class="modal fade" role="dialog">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h4 class="modal-title">Add new word</h4>
                      </div>
                      <div class="modal-body">
                        <form action="{{url_for('addNewProofread')}}" method="POST">
                          <div class="form-group">
                            <label>Term:</label>
                            <!-- <input type="hidden" name="id" value="{{data.ID}}"> -->
                            <input type="text" class="form-control" name="term" value="" autocomplete="off">
                          </div>
                          <div class="form-group">
                            <label>Definition:</label>
                            <input type="text" class="form-control" name="definition" value="" autocomplete="off">
                          </div>
                          <div class="form-group">
                            <button class="btn btn-primary float-right" type="submit">Add+</button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
                {% endfor %}
              </table>
              
              </div>
       </div>
       <div class="selectPage">
        <span id="paginator"></span>
       </div>
       
   
          
   
    <script src="{{ url_for('static', filename='js/jquery-3.5.1.min.js') }}" ></script>
    <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/paginathing.min.js') }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>


    <script type = 'text/javascript'>
  
      $(".save").click(function () {
          var $row = $(this).closest("tr");  
          var idx = $row.find("td:nth-child(1)").text();
          $.post("/save/" + idx, {'idx':idx});
          $row.fadeOut();
        });

        $('.delete').click(function(){
          var $row = $(this).closest("tr"); 
          var idx = $row.find("td:nth-child(1)").text();
          $.post("/delete/" + idx, {'idx':idx});
          $row.remove(); 
        });        
       
        $('table tbody').paginathing({
                perPage: 7,
                containerClass: 'pagination-container',
                insertAfter: ('#paginator')
          });
	  
    </script>
</body>
</html>