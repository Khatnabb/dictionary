<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OT Dictionary</title>
    <link href="{{ url_for('static', filename='css/googleapifonts.css') }}" rel="stylesheet">
    <!-- <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet"> -->
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/font.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/sweetalert.min.css') }}" rel="stylesheet" type="text/css" >   
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet" type="text/css" > 
</head>

<body>
   <section id="nav-bar">
    <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="#"><img src="{{ url_for('static', filename='images/colorlogo.png') }}"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="#top">GLOSSARY</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contribute">CONTRIBUTE</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#about">ABOUT</a>
            </li>
              <li class="nav-item">
                <a class="nav-link" href="#info">LEARNING</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#contact">CONTACT</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('proofread') }}">PROOFREAD</a>
              </li>
          </ul>
        </div>
      </nav>
   </section>   
   
   <section id="searchsection">
       <div class="container">
        <div class="row searchrow">
            <div class="col-md-6">
                <div class="searchbox-container">
                    <div class="searchbox">

                          <p><button id="lang" name="EN-MN" onclick="lang_toggle()">EN-MN</button></p>
                        <input type="text" name="term" id="search" autocomplete="off" value="" size="50">
                        <!-- <input type="text" name="term" id="search" autocomplete="off" value="" size="50" onkeyup="auto_complete()"> -->
                            <a id="goBtn" onclick="get_words()"><i class="fa fa-lg fa-search"></i></a>
                            
                    </div>
                    <div class="suggestions" style="overflow: scroll;" ></div>    
                </div>   
                <div class="intro">
                    <p class="intro-title">Техникийн үг хэллэгийн хураангуй толь</p>
                    <p>
                        Энэхүү Оюу Толгойн Техникийн үг хэллэгийн товч толь бичгийг ашиглаж буй танд баярлалаа!
                        Тус толь бичигт гүний уурхай, барилга угсралт болон машин техниктэй холбогдолтой үг хэллэгийг багтаасан ба Оюу Толгойн бүх ажилчдад зориулав.
                    </p>
                </div>
                <div class="searchSection">
                    <div class="searched" >
                       <p id="searchEntry"></p>
                       <hr>
                       <p id="def"></p>
                    </div> 
                </div>   
            </div>
            <div class="col-md-6">
                <img src="{{ url_for('static', filename='images/learning.jpg') }}" class="img-fluid">
            </div>
        </div>
       </div>
   </section>

   <section id="contribute"> 
     <div class="addnew">
		<div class="welcome">
			<h2>Contribute!</h2>
			<p class="welcometext">Та шинээр үг оруулахдаа тухайн үгийн ямар утгууд толь бичигт орсон байгааг (хэрэв энэ хэсэгт гарч ирсэн тохиолдолд) 
                нягталж хараарай. Хэрэв таны оруулахыг хүссэн утга байвал өөр тайлбар эсвэл өөр шинэ үг оруулна уу.</p>
                <div class="termcheck">
                    <div class="shape">
                        <p class="contributetext">Тус үгийн дараах утгууд толь бичигт байна. Толь бичигт байхгүй утга эсвэл өөр үг оруулна уу!</p>
                    </div>
                        <p id="existingDef"></p>
                </div>
                <div class="addnewtext" style="display: none;" >
                    <h5>Үгс нэмж "ТОКЕН" цуглуулаарай!</h5>
                    <p>Lorem Ipsum is simply dummy text of the printing and 
                        typesetting industry. Lorem Ipsum has been the industry's 
                        standard dummy text ever since the 1500s, when an unknown 
                        printer took a galley of type and scrambled it to make a 
                        type specimen book. It has survived not only five centuries, 
                        but also the leap into electronic typesetting, remaining 
                        essentially unchanged. It was popularised in the 1960s with 
                        the release of Letraset sheets containing Lorem Ipsum passages, 
                        and more recently with desktop publishing software like Aldus 
                        PageMaker including versions of Lorem Ipsum.</p>
                </div>
           <div class="infobtn">
            <a>
                Урамшууллын талаар мэдээлэл
                <i class="fas fa-info-circle"></i>
            </a>
           </div>     
		
		</div>
		<div class="addnewcontainer">
			<form class="addNew" role="form" action="{{ url_for('contribute_add_new') }}" method="POST" >
            <h2>Шинэ үг нэмэх</h2>
            <input type="email" id="email" name="email" placeholder="OT Email" required><br>
            <hr>
			<input id="postingterm" name="postingterm" class="term" required autocomplete="off" placeholder="Term" type="text"><br>
            <input id="postingdef" name="postingdef" class="utga" required autocomplete="off" placeholder="Definition" type="text"><br>
			<textarea placeholder="Description..." id="description" name="description" class="tailbar" rows="3" cols="40"></textarea> 
			<input type="submit" name="submitbtn" value="Илгээх" class="submitbtn">
		</form>
	</div>
	</div>
   </section>
   <section id="about">
    <div class="container text-center">
        <h3 class="title">About the resource</h3>
        <div class="row">
            <div class="col-md-6 aboutus">
                <p class="aboutustext">This project was initiated and designed by Khatantuul Batbold.
                    She has been working as a translator for Underground project since 2018.
                    She has worked on the front-end and glossary data building.
                </p>
                <img src="{{ url_for('static', filename='images/1.png') }}">
                <p class="details"><b>Khatantuul Batbold</b><br>Front-end</p>
            </div>
            <div class="col-md-6 aboutus">
                <p class="aboutustext">This resource would not have been here without the help of Erkhembayar Enkhtaivan.
                     He has been working as Data Technician for OTUG since 2019
                    and spent invaluable time developing the back end. 
                </p>
                <img src="{{ url_for('static', filename='images/0.jpg') }}">
                <p class="details"><b>Erkhembayar Enkhtaivan</b><br>Back-end</p>
            </div>
        </div>
    </div>
   </section>
   <section id="info">
       <div class="container">
           
        <div class="row infocontainer">
            
            <div class="col-md-7 infotext">
                <h3 class="title">Learning</h3>
                <h5>Хэл сурах арга барил</h5>
                <p>Хэрэв та хэдэн жилийн өмнөөс л хэл сурах гараагаа эхэлсэн ч төдийлөн ахицгүй, 
                    нэг л сайжрахгүй байгаа бол хэл сурах арга барилаа өөрчлөөд нэг үзээрэй. 
                    Энэхүү зурагт аливаа зүйлийг нүдээр харж сонсох мөн түүнийгээ өөрийн үгээр 
                    ярих нь хамгийн үр дүнтэй суралцах арга барил болохыг харуулсан байна. Хэл 
                    сурахад заавал унших, бичих, ярих болон сонсох гэж ангилан тусдаа мэт ойлгох 
                    албагүй. Таны сонсгол сайжрах тусам аялга, үгийн баялаг болон өгүүлбэр зүйн ерөнхий 
                    бүтцийн ойлголт сайжирч байдаг. Мөн цээж бичиг хийхэд зэрэг таны сонсгол сайжирч, 
                    зөв бичиж сурах, үгийн баялаг нэмэгдэх давуу талтай. Өөрийн хэл сурах арга барил 
                    болон суралцаж болох бусадтай хуваалцахаар доорх 
                </p>
            </div>
            <div class="col-md-5 infoimg">
                <img src="{{ url_for('static', filename='images/info.png') }}" class="img-fluid">
                <hr>
                <h5>Үр дүнтэй суралцах хэлбэр</h5>
            </div>
        </div>
       </div>
       <hr>   
       <div class="navigationbuttons">
           <div class="prevnext">
            <button class="prev">
                <i class="fas fa-chevron-left"></i>
                <!-- <span>Previous</span> -->
            </button>
            <span>Useful tools for efficient learning</span>
            <button class="next">
                <!-- <span>Next</span> -->
                <i class="fas fa-chevron-right"></i>
            </button>
           </div>
             
        </div>
            <div class=" container">
             
               <div class="scrollrow">
                <div class="card">
                
                    <h3>
                        <a href="https://www.learnenglish.de/dictationpage.html">Learnenglish.de</a>
                        
                    </h3>
                    <p>Олон төрлийн сэдвээр энгийн хэлбэрээр бичигдсэн өгүүллэгүүдээр 
                        удаан эсвэл энгийн хурдыг сонгон цээж бичиг хийж дараа нь өөрийгөө шалган сонсгол, өгүүлбэр зүй, 
                        үгсийн сангаа сайжруулах болно. 
                    </p>
                  
                </div>
                <div class="card">
                    <h3>
                        <a href="https://www.newsinlevels.com/">News In Levels</a>
                    </h3>
                    <p>Таны англи хэлний мэдлэг хараахан том сонин нийтлэл гарчиглах болоогүй байгаа бол 
                        энгийн хэлбэрээр мэдээ, мэдээлэл уншингаа хэлээ сайжруулах боломжтой. Өөрийн түвшингээ сонгож 
                        сонсонгоо даган унших боломжтой. 
                    </p>
            
                </div>
                <div class="card">
                    <h3>
                        <a href="https://www.ldoceonline.com/">Easy Longman Dictionary</a>
                    </h3>
                    <p>Англиас англи хэлний маш энгийн үгээр тайлбарласан толь бичиг. Үгийн
                       англи тайлбарыг унших нь зарим тохиолдолд утгыг илүү ойлгох давуу талтай. 
                       Энгийн үгсээр тайлбарласан тул их ойлгомжтой.  
                    </p>
                    
                </div>     
                <div class="card">
                    <h3>
                        <a href="https://www.youtube.com/channel/UCKgpamMlm872zkGDcBJHYDg">Learn English with TV Series</a>
                    </h3>
                    <!-- <iframe src="https://www.youtube.com/embed/fQwqes1cQ8E"></iframe> -->
                    <p>Заавал өөрт тань сонирхолгүй, хүнд үг хэллэг ашигласан сонин, ном, мэдээ сонсож байхаар
                        хөгжилтэй видео үзэж суралцах нь сонсгол, яриа болон үгийн баялаг сайжруулах хамгийн сайн арга. 
                    </p>
                </div>    
                <div class="card">
                    <h3>
                        <a href="https://quizlet.com/">Quizlet</a>
                    </h3>
                    <p>Шинэ үгсээ энд тэнд бичиж цээжлэх дуртай хүмүүст 
                        орчин үед хэрэглэхэд хялбар, суралцахад
                        хамгийн сайн туслах онлайн флашкард. Үгсээ бичээд хадгалахаас гадна өөрийгөө шалгах, тухайн 
                        үгсээ тоглоом болгон хувиргаж хөгжилтэй байдлаар суралцах болно. 
                    </p>
                   
                </div>
               </div>
         
            </div>
        
     
   </section>
   <section id="contact">
    <div class="container text-center"   >
        <h3 class="title">Contact</h3>
        <div class="row transcontainer">
            <div class="col-md-3 transteamtitle text-center">
                <h3>OTUP
                    Business Services Translation Team</h3>     
                <img src="{{ url_for('static', filename='images/contract.png') }}" class="img-fluid">          
            </div>
            <div class="col-md-9 transteam">
                <div class="transteamtext">
                    <p>
                        Бизнес үйлчилгээний хэлтсийн Орчуулгын алба нь 15 хүний (Албаны ахлах 1, Орчуулгын хянагч 2, Орчуулагч 12) 
                        бүрэлдэхүүнтэйгээр ажиллаж байгаагийн 13 албан хаагч Уурхайн талбайд байрлаж ОТ гүний уурхайн хэлтэс нэгжүүдэд 
                        үлдсэн 2 албан хаагч нь Улаанбаатар хот Шангрила оффист ажиллаж байна. 
                    </p>
                </div>
                <div class="transteamtext">
                    <p>
                        Орчуулгын хүсэлт гаргахдаа ErkhbayarB@ot.mn, YadamtsooZ@ot.mn AchiiginB@ot.mn гэсэн цахим 
                        шуудангийн хаягууд руу явуулах шаардлагатай бөгөөд ингэснээр орчуулгын 
                        хүсэлт орхигдохгүй байх нөхцөл болж өгөх юм. Тус алба нь ​ОТ Гүний уурхайн 
                        төслийн бүх баг, хэлтсүүдэд Англи-Монгол, Монгол-Англи аман болон бичгийн орчуулгын үйлчилгээ 
                        үзүүлэн ажилладаг.   
                    </p>   
                </div>
                 <div class="transteamtext">
                    <p>
                        Хүсэлт гаргагч нь өөрийн шууд удирдлагаа цахим шуудангийн СС (Carbon Copy) хэсэгт мөн 
                        оруулсан байх шаардлагатайг анхаарна уу.
                    </p>
                 </div>
            </div>                         
        </div>
    </div> 
</section>
<div class="footercontainer">
    <img src="{{ url_for('static', filename='images/email.png') }}" class="img-fluid emailicon">
    <div>
        <a href="mailto:erkhbayarb@ot.mn?cc=achiiginb@ot.mn">Үгсийн сантай холбоотой асуудлаар</a>
    </div>
    <div class="footercontactseparator">
        <a href="mailto:khatantuulb@ot.mn?cc=erkhembayare@ot.mn">Ашиглалттай холбоотой асуудлаар</a>
    </div>
    <div class="footercontactseparator">
        <a href="mailto:yadamtsooz@ot.mn">ОТГУ-н Орчуулгийн баг</a>
    </div>
   
</div> 
</body>
</html>

<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" ></script>
<script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
<script src="{{ url_for('static', filename='js/jquery-3.5.1.min.js') }}" ></script>
<script src="//code.jquery.com/ui/1.11.3/jquery-ui.js"></script>
<script src="{{ url_for('static', filename='js/sweetalert2.js') }}" ></script>
<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/smooth-scroll.js') }}"></script>
<script type="text/javascript">

    function lang_toggle() {
    var x = document.getElementById("lang");
    if (x.innerHTML === "EN-MN") {
        x.innerHTML = "MN-EN";
    } else {
        x.innerHTML = "EN-MN";
    }
    }

        // $('.addrow').click(function(){
        // build = "<tr><td><input></td><td><input></td></tr>"
        // let tableBody = $('table tbody');
        // tableBody.append(build);
        // });

    function sweetalert(message = "brimbrom"){
        Swal.fire("Success","Brim Brom","success")
    }

    function sweetalertfail(message = "The word you searched is not found"){
        var contribute = "Please click here to contribute"
        var tocontribute = contribute.link('http://localhost:5000/contribute')
        Swal.fire("Word Not Found ", message + "<BR>" +  tocontribute, "info")
    }


    const searchInput = document.querySelector('#search');
    const suggestionsPanel = document.querySelector('.suggestions');
    
    function populate(word){
        $.each(word, function (idx, w) {
            $('.suggestions').append(`<li class = element>${w}</li>`)

            
    })};
    
     $('body').on('click', '.suggestions > li', function(){
        $('.searchbox input').val($(this).text());
        $('.suggestions').slideUp('slow');
        get_words();  
    });
    

    
        searchInput.addEventListener('keyup',function(e){
            var code = (e.keyCode || e.which);
            
            if(code == 38 || code == 40 || code == 13) {
        return;
    }
        let search = $('#search').val()
        let lang = $('#lang').text()
        let value=$.trim($("#search").val());
       
        $.ajax({
            type: 'GET',
            url: '/home/autocomplete/' + search + /lang/ + lang,
            dataType: "json",

            success: function (response) {
            let word = response.words
            suggestionsPanel.innerHTML = '';
            $('.intro').hide();
            populate(word);
            
            $('.suggestions').slideDown('slow');        
            $('.suggestions li:first').addClass('selected');
        
    $('body').click(function(e){
    
        if(!$(e.target).is('input, a, li, section')){
            $('.searchbox input').val('');
            $('.suggestions').slideUp('slow');           
        }

    });

    },
        error: function (response) {
            console.log(response);
            // sweetalertfail(response.responseJSON.response)
    },
        complete: function (response) {
        }
        });
})

    function get_words() {
        let search = $('#search').val()
        let lang = $('#lang').text()
        $.ajax({

            type: 'GET',
            url: '/home/' + search + /lang/ + lang,
            dataType: "json",

            success: function (response) {
            
                let word = response.words
                $('.searchSection').fadeIn(600);
                document.getElementById('searchEntry').innerHTML = search;
                document.getElementById('def').innerHTML = word;
                
            },
            error: function (response) {
                console.log(response)
                sweetalertfail(response.responseJSON.response)
            },
            complete: function (response) {
            },
}); 
    }
    const searchInputcontribute = document.querySelector('#postingterm');

    searchInputcontribute.addEventListener('keyup',function(){
        let search = $('#postingterm').val()

        $.ajax({

            type: 'GET',
            url: '/home/check/' + search,
            
            dataType: "json",

            success: function (response) {
            
                let word = response.words
                $('.welcometext, .addnewtext, .infobtn').hide();
                $('.termcheck').append('<i class="fas fa-arrow-left back"></i>');
            $('.fas').click(function(){
                $('.welcometext, .infobtn').show();
                $('.termcheck, .back').hide();
            })
                $('.termcheck').fadeIn(600);
               
                document.getElementById('existingDef').innerHTML = word;

              
            },
            error: function (response) {
                console.log(response)
                // sweetalert(response.responseJSON.response)
            },
            complete: function (response) {
            },
}); 
    })


    var scroll = new SmoothScroll('a[href*="#"]');


            $('#search').on('keyup', function(e){
                $('.suggestions').addClass('open');
                if (e.which == 40){
                    $('.element:not(:last-child).selected').removeClass('selected').next().addClass('selected');
                    $('#search').val($('.selected').text());
                } else if (e.which == 38) {
                    $('.element:not(:first-child).selected').removeClass('selected').prev().addClass('selected');
                    $('#search').val($('.selected').text());
                }
                $('.searchbox-container .suggestions').scrollTop(0).scrollTop($('.suggestions .selected:first').offset().top-$('.searchbox-container .suggestions').height());

                if (e.which === 13) {
                            $('#goBtn').click();
                            $('.suggestions').slideUp('slow');  
                        }
            });

        $('.infobtn').click(function(){
            $('.welcometext').hide();
            $('.addnewtext').show();
            $(this).hide();
            $('.addnewtext').append('<i class="fas fa-arrow-left back"></i>');
            $('.fas').click(function(){
                $('.welcometext, .infobtn').show();
                $('.addnewtext, .back').hide();
            })
        })


        $('.next').click(function(){
            $('.scrollrow').animate({
                scrollLeft: '+=200px'
            }, 'slow');
        });

        $('.prev').click(function(){
            $('.scrollrow').animate({
                scrollLeft: '-=200px'
            }, 'slow');
        });

</script>


